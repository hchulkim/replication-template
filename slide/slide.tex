\documentclass[10pt]{beamer}

% Load necessary packages for beamer. 
\usepackage{graphicx, booktabs, hyperref, caption, tikz, amsmath, amssymb, amsfonts, amsthm}
\usetikzlibrary{tikzmark, fit}

% Main theme.
\usetheme[compress]{Berlin}

% Set new colors for the template.
\definecolor{mygray}{RGB}{230, 230, 230}
\definecolor{myheadercolor}{RGB}{70, 130, 180}
\usecolortheme[named=myheadercolor]{structure}

% Set math font
\usefonttheme[onlymath]{serif}

% Set navigation headline and footline.
\setbeamertemplate{navigation symbols}{}

\setbeamercolor{headlinecolor}{bg=myheadercolor}
\setbeamertemplate{headline}{%
    \leavevmode%
    \hbox{%
    \begin{beamercolorbox}[wd=\paperwidth,ht=3ex,dp=1.125ex,center]{headlinecolor}%
        \insertsectionnavigationhorizontal{\paperwidth}{}{}
    \end{beamercolorbox}%
    }
}

\setbeamertemplate{footline}
{ 
\leavevmode% 
\hbox{% 
\begin{beamercolorbox}[wd=.25\paperwidth,ht=2.25ex,dp=1ex,center]{author in head/foot}%   
\usebeamerfont{author in head/foot}\insertshortauthor%
\end{beamercolorbox}% 

\begin{beamercolorbox}[wd=.45\paperwidth,ht=2.25ex,dp=1ex,center]{title in head/foot}%   
\usebeamerfont{title in head/foot}\insertshorttitle%
\end{beamercolorbox}% 

\begin{beamercolorbox}[wd=.3\paperwidth,ht=2.25ex,dp=1ex,right]{date in head/foot}%  
\usebeamerfont{date in head/foot}\insertshortdate \hspace*{7em}   
\insertframenumber{}
\hspace*{2ex}   
\end{beamercolorbox}}% 
\vskip0pt%
}

% Set beamer color for beamer objects.
\setbeamercolor{title}{fg=myheadercolor, bg=mygray}
\setbeamercolor{frametitle}{fg=myheadercolor, bg=mygray}

\setbeamercolor{block title}{fg=white, bg=myheadercolor}
\setbeamercolor{block body}{fg=black, bg=white}
\setbeamercolor{itemize item}{fg=black}
\setbeamercolor{itemize subitem}{fg=black!50}
\setbeamercolor{itemize subsubitem}{fg=black!30}
\setbeamercolor{author in head/foot}{bg=myheadercolor, fg=white}
\setbeamercolor{title in head/foot}{bg=myheadercolor, fg=white}
\setbeamercolor{date in head/foot}{bg=myheadercolor, fg=white}
\setbeamertemplate{itemize item}[circle]
\setbeamertemplate{itemize subitem}[circle]

% Adjust the frame title template
\setbeamertemplate{frametitle}
{
    \nointerlineskip
    \begin{beamercolorbox}[sep=0.3cm,ht=1.8em,wd=\paperwidth]{frametitle}
        \vbox{}\vskip-2ex%
        \strut\insertframetitle\strut
        \vskip-0.8ex%
    \end{beamercolorbox}
}
% End of all necessary preambles.

% Title information.
\title{Reproducible \& Automated Workflow}
\author{Hyoungchul Kim}
\date{\today}
\institute{The Wharton School, University of Pennsylvania}


\begin{document}
\begin{frame}
\titlepage
\end{frame}


\section{Introduction}
\begin{frame}{Motivation}

Reproducible workflow is becoming more important in (Empirical) Economics research
\begin{itemize}
	\item Empirical research is becoming more intense and complex.
	\item More prone to making fatal error.
	\item It also gives more control to the researcher.
	\item It makes workflow more efficient (e.g. small change in code script).
\end{itemize}\vspace{5mm}

$\implies$ I plan to discuss about some tools I have been looking into during last few weeks.

\end{frame}

\begin{frame}{Caveat}
\begin{itemize}
	\item First off, I don't use Stata. I use R.
	\item Some of these reproducible tools can be more inclined toward R user.
	\item But still, it will give nice tools you can adjust to use on your language (Stata, Python, etc).
\end{itemize}	
\end{frame}
\section{reproducibility}

\begin{frame}{R-package version: RENV package}
	Problem
	\begin{itemize}
		\item Just like other programming languages, you use many useful packages (or libraries) in R.
		\item But some packages become outdated or inconsistent over time.
		\item This could lead to severe consequences where your code will not work after update (e.g. You update your package and it starts to not work).
	\end{itemize}\vspace{5mm}

	Solution: Use Renv package in R!
	\begin{itemize}
		\item Renv package store all the packages you use in separate library.
		\item It stores all info of the package (including version) in the renv.lock file.
		\item Allows reproducibility since other ppl can use the lock file to restore the package version.
	\end{itemize}
\end{frame}

\begin{frame}{Caveat of Renv}
	\begin{enumerate}
		\item You can only use it in R (but you can use Poetry on Python).
		\item It does not track the version of R itself.
		\item It does not track the version of dependenceis of the packages.
	\end{enumerate}
\end{frame}

\begin{frame}{Conda (mamba) environment}
Solution to problem in Renv: Use conda environment!

\end{frame}


\begin{frame}{It works on my computer!: Docker}
Unfortunately, just tracking versions of packages is not enough.	
\begin{itemize}
	\item How packages work also depends on the overall system dependencies and OS you use (linux, mac, windows).
	\item In order to fully incorporate these dependencies, we need to ship our computer to others.
	\item This is impossible! $\ldots$ Or is it?

\end{itemize}\vspace{5mm}

Solution: Use Docker!
\begin{itemize}
	\item Docker basically helps you to ship your computer to other ppl.
	\item Using Dockerfile it gives an instruction on how to build your computer inside their computer.
	\item Almost like a virtual environment (with just the necessary dependencies).
\end{itemize}
\end{frame}

\section{Build automation}

\begin{frame}{Make}
	\begin{itemize}
		\item Research workflow is a DAG process.
		\item As the workflow becomes complicated, it is not easy to manually check this process.
		\item e.g. What do I need to re-run if I am just changing one part of the script?
		\item Make does this for you by re-running the necessary processes whenever there is a change in the dependencies.
	\end{itemize}
\end{frame}

\section{Conclusion}

\begin{frame}{Conclusion}
   For more $\ldots$ 
   \begin{itemize}
   	\item Check Prof. Dingel's website (nice place to start).
	\item You can also try some resources I've put in my repository.
	\item You also need to learn some command line (bash, terminal) to do this (but the learning curve is not that steep).
   \end{itemize}
\end{frame}

\end{document}
